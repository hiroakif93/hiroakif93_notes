{
  "hash": "28ac288d1f588e151d9cac598424294a",
  "result": {
    "engine": "knitr",
    "markdown": "```{=html}\n<script type=\"text/javascript\" async src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js\">\n</script>\n```\n\n```{=html}\n<script type=\"text/x-mathjax-config\">\n MathJax.Hub.Config({\n tex2jax: {\n inlineMath: [['$', '$'] ],\n displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ]\n }\n });\n</script>\n```\n\n---\ntitle: \"Ricker model\"\ncode-fold: true\n---\n\n\n\n\n-   離散時間モデルの一つ\\\n    ´\n\n$$ N_{t+1} = \\exp[r(1-\\frac{N_t}{K})]N_t $$\n\nNが個体数、rが増殖率、Kが環境収容力\n\n-   離散ロジスティックモデルとの違いは、 \\$ \\\\exp \\$ をかけることで、**増殖率が負にならない**ようにしている.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlogistic = \\(Nt,r) r*(1-Nt/1)\nricker = \\(Nt,r) exp( r*(1-Nt/1) )\n\ndf = data.frame(\n    Nt = seq(0.5,1.5,0.01),\n    r = seq(0.5,1.5,0.01),\n    logistic = NA,\n    ricker = NA\n)\nfor(i in 1:nrow(df)){\n    nt = df$Nt[i]\n    r = df$r[i]\n    df[i,\"logistic\"] = logistic(nt, r)\n    df[i,\"ricker\"] = ricker(nt, r)\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nxlim = range(df$Nt)\nylim = range(df[,3:4])\nxlab = \"Nt\"\nylab = \"Growth rate\"\n\npar(mar = c(4, 4, 0, 0)) \nplot(df$Nt, df[,\"logistic\"], type=\"l\", \n     xlim=xlim, ylim=ylim,\n     xlab=xlab, ylab=ylab)\npar(new=TRUE)\nplot(df$Nt, df[,\"ricker\"], type=\"l\", \n     xlim=xlim, ylim=ylim,\n     xlab=xlab, ylab=ylab)\nabline(h=0, lty=2, col=\"red\")\n\ntext(1.3, df[nrow(df),c(\"logistic\")], \"Logistic\", cex=1)\ntext(1.3, df[nrow(df),c(\"ricker\")], \"Ricker\", cex=1)\n```\n\n::: {.cell-output-display}\n![](ricker_files/figure-html/unnamed-chunk-2-1.png){width=360}\n:::\n:::\n\n\n\n\n-   生態学においては、隣り合う世代が重なり合わない動態を記述する時に用いられるモデル. 観測データもそれにあたる？\\\n    例：１世代ごとに繁殖する虫, 観測データ\n\n## Multi-species Ricker model\n\n$$ N_{i}(t+1) = \\exp[r_i(1+e_iAN(t))]N_i(t) $$ *N*が個体数、*r*が増殖率、*K*が環境収容力、*M* が相互作用行列、*e*が標準基底ベクトル（i番目=1、それ以外は0：i種が受ける影響をスカラーに直すためのもの）[^1].\n\n[^1]: Change et al., 2021, *Ecol. lett.*\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(250721)\n\nms_ricker = \\(N, r, A) exp( r*(1+A%*%N) ) * N\n\ntimes = 100\nsp = 10\n\n# -- generate dynamics\nN0 = as.integer( runif(sp, 1, 10) )\nr = runif(sp, 0.2,0.5)\n\nA = matrix(rnorm(sp*sp, mean=-0.2,sd=0.1), nrow=sp, ncol=sp)\nA[which(abs(A)>0.25)] = 0\ndiag(A) = -1\n\nmat = matrix(0, nrow=times, ncol=sp)\nN = N0\nfor(i in 1:times) {N = ms_ricker(N, r, A); mat[i,]=N}\npar(mar = c(4, 4, 0, 0)) \nplot(0, type=\"n\", ylim=range(mat), xlim=c(1,times))\nfor(i in 1:5)lines(mat[,i], col=i)\n```\n\n::: {.cell-output-display}\n![](ricker_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::",
    "supporting": [
      "ricker_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}